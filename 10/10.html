<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Charts and Data</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../css/normalize.css" media="screen">
    <link rel="stylesheet" type="text/css" href="../css/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="../css/github-light.css" media="screen">
    <script src="../js/d3.js"></script>
    <script src="../js/jquery.min.js"></script>
    <script src="../js/highcharts.js"></script>
    <script src="../js/accounting.min.js"></script>
    <script>
        var chart;
        var chart2;
        var chart3;
        var chart4;
        var color = ['#00A388', '#E74C3C', '#3498DB', '#FF851B'];
        var plotLinesTime = [
            1465364281,
            1465575346,
            1465598059,
            1465689601,
            1465872764,
            1465875787,
            1465904555,
            1465964762,
            1466134488,
            1466147425,
            1466148580,
            1466161223,
            1466162021
        ];
        document.addEventListener('DOMContentLoaded', function(event) {
            Highcharts.setOptions({
                lang: {
                    thousandsSep: ','
                }
            });
            d3.json('./chart.json', function(data) {
                // var btcusd = [];
                // var daobtc = [];
                // var daoeth = [];
                // var ethbtc = [];
                var ethusd = [];
                // var daousd = [];
                var daoVol = [];
                // var ethVol = [];
                // var krakBalanc = [];
                // var poloBalanc = [];
                var krakPoloBalanc = [];
                // var daoMainBalanc = [];
                for (var i = 0; i < data.length; i++) {
                    if (data[i].time >= 1465228800) {
                        // btcusd.push([data[i].time * 1000, data[i].btcusd]);
                        // daobtc.push([data[i].time * 1000, data[i].daobtc]);
                        // if (data[i].time > 1465351200) {
                        //     daoeth.push([data[i].time * 1000, data[i].daoeth]);
                        // }
                        // ethbtc.push([data[i].time * 1000, data[i].ethbtc]);
                        ethusd.push([data[i].time * 1000, data[i].ethusd]);
                        // daousd.push([data[i].time * 1000, data[i].daousd]);
                        daoVol.push([data[i].time * 1000, data[i].daoVol]);
                        // ethVol.push([data[i].time * 1000, data[i].ethVol]);
                        // krakBalanc.push([data[i].time * 1000, data[i].krakBalanc]);
                        // poloBalanc.push([data[i].time * 1000, data[i].poloBalanc]);
                        krakPoloBalanc.push([data[i].time * 1000, data[i].krakPoloBalanc]);
                        // daoMainBalanc.push([data[i].time * 1000, data[i].daoMainBalanc]);
                    }
                }
                $('#chart').highcharts({
                    chart: {
                        alignTicks: false
                    },
                    title: {
                        text: null
                    },
                    xAxis: {
                        type: 'datetime',
                        plotLines: [{
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[0] * 1000).getTime(),
                            label: {
                                text: '1',
                                rotation: 0
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[1] * 1000).getTime(),
                            label: {
                                text: '2',
                                rotation: 0,
                                x: -12
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[2] * 1000).getTime(),
                            label: {
                                text: '3',
                                rotation: 0
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[3] * 1000).getTime(),
                            label: {
                                text: '4',
                                rotation: 0
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[4] * 1000).getTime(),
                            label: {
                                text: '5,6',
                                rotation: 0,
                                x: -25
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[6] * 1000).getTime(),
                            label: {
                                text: '7',
                                rotation: 0
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[7] * 1000).getTime(),
                            label: {
                                text: '8',
                                rotation: 0
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[8] * 1000).getTime(),
                            label: {
                                text: '9,10',
                                rotation: 0,
                                x: -30
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[10] * 1000).getTime(),
                            label: {
                                text: '11,12,13',
                                rotation: 0
                            }
                        }]
                    },
                    yAxis: [{
                        gridLineWidth: 0,
                        lineWidth: 1,
                        tickWidth: 1,
                        title: {
                            text: null,
                            style: {
                                color: color[1]
                            }
                        },
                        labels: {
                            style: {
                                color: color[1]
                            }
                        },
                        opposite: true
                    }, {
                        gridLineWidth: 0,
                        lineWidth: 1,
                        tickWidth: 1,
                        title: {
                            text: null,
                            style: {
                                color: 'black'
                            }
                        },
                        labels: {
                            style: {
                                color: 'black'
                            }
                        },
                        opposite: true
                    }, {
                        gridLineWidth: 0,
                        lineWidth: 1,
                        tickWidth: 1,
                        title: {
                            text: null,
                            style: {
                                color: color[0]
                            }
                        },
                        labels: {
                            style: {
                                color: color[0]
                            }
                        },
                        opposite: true
                    }],
                    tooltip: {
                        shared: true,
                        borderColor: '#000000',
                        followPointer: true
                    },
                    legend: {
                        align: 'center',
                        verticalAlign: 'bottom',
                        floating: false,
                        backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                    },
                    series: [{
                        yAxis: 1,
                        name: 'dao trading volume (2h poloniex)',
                        type: 'column',
                        color: 'black',
                        pointPadding: 0,
                        groupPadding: 0,
                        borderWidth: 0,
                        shadow: false,
                        data: daoVol,
                        tooltip: {
                            valueDecimals: 0
                        }
                    }, {
                        name: 'ethusd',
                        type: 'spline',
                        color: color[1],
                        data: ethusd,
                        tooltip: {
                            valueDecimals: 2
                        },
                        marker: {
                         enabled: false
                        }
                    }, {
                        yAxis: 2,
                        name: 'kraken and poloniex dao balance',
                        type: 'spline',
                        color: color[0],
                        data: krakPoloBalanc,
                        tooltip: {
                            valueDecimals: 0
                        },
                        marker: {
                         enabled: false
                        }
                    }]
                });
            });
            d3.json('./chart2.json', function(data) {
                // var daobtc = [];
                // var daoeth = [];
                // var ethbtc = [];
                var daobtcP = [];
                var daoethP = [];
                var ethbtcP = [];
                // var daoVol = [];
                var ethVol = [];
                // var daoMainBalanc = [];
                var daoMainBalancP = [];
                for (var i = 0; i < data.length; i++) {
                    if (data[i].time >=1466121600) {
                        // daobtc.push([data[i].time * 1000, data[i].daobtc]);
                        // daoeth.push([data[i].time * 1000, data[i].daoeth]);
                        // ethbtc.push([data[i].time * 1000, data[i].ethbtc]);
                        daobtcP.push([data[i].time * 1000, data[i].daobtcP]);
                        daoethP.push([data[i].time * 1000, data[i].daoethP]);
                        ethbtcP.push([data[i].time * 1000, data[i].ethbtcP]);
                        // daoVol.push([data[i].time * 1000, data[i].daoVol]);
                        ethVol.push([data[i].time * 1000, data[i].ethVol]);
                        // daoMainBalanc.push([data[i].time * 1000, data[i].daoMainBalanc]);
                        daoMainBalancP.push([data[i].time * 1000, data[i].daoMainBalancP]);
                    }
                }
                $('#chart2').highcharts({
                    chart: {
                        alignTicks: false
                    },
                    title: {
                        text: null
                    },
                    xAxis: {
                        type: 'datetime',
                        plotLines: [{
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[8] * 1000).getTime(),
                            label: {
                                text: '9',
                                rotation: 0
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[9] * 1000).getTime(),
                            label: {
                                text: '10',
                                rotation: 0,
                                x: -20
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[10] * 1000).getTime(),
                            label: {
                                text: '11',
                                rotation: 0
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[11] * 1000).getTime(),
                            label: {
                                text: '12',
                                rotation: 0,
                                x: -20
                            }
                        }, {
                            color: color[2],
                            width: 1,
                            value: new Date(plotLinesTime[12] * 1000).getTime(),
                            label: {
                                text: '13',
                                rotation: 0
                            }
                        }]
                    },
                    yAxis: [{
                        gridLineWidth: 0,
                        lineWidth: 1,
                        tickWidth: 1,
                        title: {
                            text: 'percentage',
                            style: {
                                color: color[1]
                            }
                        },
                        labels: {
                            style: {
                                color: color[1]
                            }
                        },
                        opposite: true
                    }, {
                        gridLineWidth: 0,
                        lineWidth: 1,
                        tickWidth: 1,
                        title: {
                            text: null,
                            style: {
                                color: 'black'
                            }
                        },
                        labels: {
                            style: {
                                color: 'black'
                            }
                        },
                        opposite: true
                    }],
                    tooltip: {
                        shared: true,
                        borderColor: '#000000',
                        followPointer: true
                    },
                    legend: {
                        align: 'center',
                        verticalAlign: 'bottom',
                        floating: false,
                        backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                    },
                    series: [{
                        yAxis: 1,
                        name: 'ether trading volume (5m poloniex)',
                        type: 'column',
                        color: 'black',
                        pointPadding: 0,
                        groupPadding: 0,
                        borderWidth: 0,
                        shadow: false,
                        data: ethVol,
                        tooltip: {
                            valueDecimals: 0
                        }
                    }, {
                        name: 'ethbtc',
                        type: 'spline',
                        color: color[0],
                        data: ethbtcP,
                        tooltip: {
                            valueDecimals: 2
                        },
                        marker: {
                         enabled: false
                        }
                    }, {
                        name: 'daoeth',
                        type: 'spline',
                        color: color[1],
                        data: daoethP,
                        tooltip: {
                            valueDecimals: 2
                        },
                        marker: {
                         enabled: false
                        }
                    }, {
                        name: 'daobtc',
                        type: 'spline',
                        color: color[2],
                        data: daobtcP,
                        tooltip: {
                            valueDecimals: 2
                        },
                        marker: {
                         enabled: false
                        }
                    }, {
                        name: 'ether in main dao',
                        type: 'spline',
                        color: color[3],
                        data: daoMainBalancP,
                        tooltip: {
                            valueDecimals: 2
                        },
                        marker: {
                         enabled: false
                        }
                    }]
                });
            });
        });

    </script>
</head>

<body>
    <section class="page-header">
        <h1 class="project-name">(function(){})();</h1>
        <h2 class="project-tagline">Blockchain, make me rich and I care not what you can be used for.</h2>
        <a href="https://github.com/slacknation/medium/tree/gh-pages/10" class="btn">View on GitHub</a>
        <a href="https://medium.com/@slacknation/dao-hack-timeline-823e5a18e894" class="btn">View on Medium</a>
    </section>
    <section class="main-content">
        <h3><a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>10. DAO hack timeline</h3>
        <div id="chart"></div>
        <div id="chart2"></div>
        <div id="chart3"></div>
        <div id="chart4"></div>
        <footer class="site-footer">
            <span class="site-footer-owner">Maintained by <a href="https://github.com/slacknation/medium/tree/gh-pages">slacknation</a> at gmail.com</span>
            <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
        </footer>
    </section>
    <script>
                    (function (i, s, o, g, r, a, m) {
                        i['GoogleAnalyticsObject'] = r;
                        i[r] = i[r] || function () {
                            (i[r].q = i[r].q || []).push(arguments)
                        }, i[r].l = 1 * new Date();
                        a = s.createElement(o),
                                m = s.getElementsByTagName(o)[0];
                        a.async = 1;
                        a.src = g;
                        m.parentNode.insertBefore(a, m)
                    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
                    ga('create', 'UA-73445041-1', 'auto');
                    ga('send', 'pageview');

    </script>
</body>

</html>
